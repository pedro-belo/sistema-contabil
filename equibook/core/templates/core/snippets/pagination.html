<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">

    {% if page_obj.number > 1 and paginator.num_pages > 3 %}
    <li class="page-item">
      <a class="page-link bg-transparent border-secondary text-white" href="?{{view.page_kwarg}}=1"
        aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    {% endif %}

    {% if page_obj.number > 1 and page_obj.number < paginator.num_pages %} <li class="page-item">
      <a class="page-link bg-transparent border-secondary text-white"
        href="?{{view.page_kwarg}}={{page_obj.number|add:-1}}">
        {{page_obj.number|add:-1}}
      </a>
      </li>
      <li class="page-item">
        <a class="page-link bg-secondary border-secondary text-white" href="?{{view.page_kwarg}}={{page_obj.number}}">
          {{page_obj.number}}
        </a>
      </li>
      <li class="page-item">
        <a class="page-link bg-transparent border-secondary text-white"
          href="?{{view.page_kwarg}}={{page_obj.number|add:1}}">
          {{page_obj.number|add:1}}
        </a>
      </li>
      {% elif page_obj.number == 1 %}
      <li class="page-item">
        <a class="page-link bg-secondary border-secondary text-white" href="?{{view.page_kwarg}}=1">1
        </a>
      </li>
      <li class="page-item">
        <a class="page-link bg-transparent border-secondary text-white" href="?{{view.page_kwarg}}=2">2
        </a>
      </li>
      <li class="page-item">
        <a class="page-link bg-transparent border-secondary text-white" href="?{{view.page_kwarg}}=3">3
        </a>
      </li>
      {% elif page_obj.number == paginator.num_pages %}
      <li class="page-item">
        <a class="page-link bg-transparent border-secondary text-white"
          href="?{{view.page_kwarg}}={{paginator.num_pages|add:-2}}">
          {{paginator.num_pages|add:-2}}
        </a>
      </li>
      <li class="page-item">
        <a class="page-link bg-transparent border-secondary text-white"
          href="?{{view.page_kwarg}}={{paginator.num_pages|add:-1}}">
          {{paginator.num_pages|add:-1}}
        </a>
      </li>
      <li class="page-item">
        <a class="page-link bg-secondary border-secondary text-white"
          href="?{{view.page_kwarg}}={{paginator.num_pages}}">
          {{paginator.num_pages}}
        </a>
      </li>
      {% endif %}

      {% if page_obj.number < paginator.num_pages|add:-1 and paginator.num_pages> 3 %}
        <li class="page-item">
          <a class="page-link bg-transparent border-secondary text-white"
            href="?{{view.page_kwarg}}={{paginator.num_pages}}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
        {% endif %}

  </ul>
</nav>